<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JP/CMD</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style>
    /* Basic Styles for body, clock, greeting, and quotes */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 100vh;
      background-color: black;
      font-family: Arial, sans-serif;
      background-image: url('/assets/img/bg.html.jpg');
      background-size: cover;
      background-position: center;
      color: white;
      text-align: center;
      overflow: hidden;
      padding: 20px;
    }

    /* Left side date */
    #date {
      position: absolute;
      left: 20px;
      top: 20px;
      font-size: 1.2em;
      color: #218a80;
      font-weight: bold;
      z-index: 10;  /* Ensure it stays on top of the background */
    }

    #clock {
      font-size: 12vw;
      font-weight: bold;
      text-shadow: 0px 0px 20px white;
    }

    #greeting {
      font-size: 3vw;
      margin-top: 0;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    #quote {
      font-family: 'Playfair Display', serif;
      font-size: 1.3vw;
      font-style: italic;
      margin-top: 40px;
      max-width: 80%;
      line-height: 1.5;
      text-shadow: 2px 2px 10px rgba(255, 223, 0, 0.7);
      transition: all 0.3s ease;
      bottom: 20px; 
      width: 100%;
      position: absolute;
      text-align: center;
    }

    #musicButton {
      margin-top: 20px;
      padding: 15px 30px;
      font-size: 1.5em;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #musicButton:hover {
      color: #149ddd;
    }

    /* Left Side Note Styles */
    .note-container {
      position: fixed;
      left: 20px;
      top: 150px;  /* Adjust the distance from top */
      width: 220px;
      background-color: #fff8c6;
      border: 1px solid #ccc;
      padding: 10px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
    }

    .note-container h3 {
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    .note-container textarea {
      width: 100%;
      height: 150px;
      resize: none;
      border: none;
      background-color: #fff;
      color: #333;
      font-size: 1em;
      padding: 8px;
    }

    /* Mobile Styles (Phones/Tablets) */
    @media (max-width: 600px) {
      body {
        padding: 10px;
      }

      #clock {
        font-size: 12vw;
      }

      #greeting {
        font-size: 6vw;
      }

      #quote {
        font-size: 5.5vw;
      }

      #musicButton {
        font-size: 2em;
      }

      .note-container {
        width: 180px;
        top: 100px;
      }

      .note-container textarea {
        height: 120px;
      }
    }

    /* Medium Devices (Tablets/Laptops) */
    @media (min-width: 601px) and (max-width: 1024px) {
      #clock {
        font-size: 15vw;
      }

      #greeting {
        font-size: 5vw;
      }

      #quote {
        font-size: 3vw;
      }

      #musicButton {
        font-size: 1.8em;
      }

      .note-container {
        top: 150px;
        width: 220px;
      }
    }
  </style>
</head>
<body>
  <div id="date"></div>
  <div id="clock">00:00:00</div>
  <div id="greeting"></div>
  <div id="quote"></div>
  <p id="musicButton"><i class="fas fa-play-circle"></i></p>

  <!-- Audio element -->
  <audio id="music" loop>
    <source id="musicSource" src="/assets/music/morning.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <!-- Left Side Note -->
  <div class="note-container">
    <h3>My Note</h3>
    <textarea id="note"></textarea>
  </div>

  <script>
    // Update the date every day at midnight
    function updateDate() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('date').textContent = now.toLocaleDateString('en-US', options);
    }

    // Initial call to update the date
    updateDate();
    updateDateAtMidnight();

    // Function to update the date at midnight
    function updateDateAtMidnight() {
      const now = new Date();
      const nextMidnight = new Date();
      nextMidnight.setHours(24, 0, 0, 0);
      const timeUntilMidnight = nextMidnight - now;

      setTimeout(() => {
        updateDate();
        setInterval(updateDate, 86400000); // Update every 24 hours
      }, timeUntilMidnight);
    }

    // Update Clock Function
    function updateClock() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
    }

    // Set Dynamic Greeting and Shadow Based on Time of Day
    function setGreetingAndShadow() {
      const now = new Date();
      const hour = now.getHours();
      let greeting = "";
      let shadowColor = "";
      let musicSource = "";

      // Set the greeting, shadow color, and music track based on specific time ranges
      if (hour >= 0 && hour < 6) {
        greeting = `Good Night, Lundberg 🌙`;
        shadowColor = "2px 2px 10px rgba(0, 0, 255, 0.7)"; // Dark blue for night
        musicSource = "/assets/music/night.mp3";
      } else if (hour >= 6 && hour < 12) {
        greeting = `Good Morning, Lundberg 🌅`;
        shadowColor = "2px 2px 10px rgba(255, 223, 0, 0.7)"; // Light yellow for morning
        musicSource = "/assets/music/morning.mp3";
      } else if (hour >= 12 && hour < 18) {
        greeting = `Good Afternoon, Lundberg ☀️`;
        shadowColor = "2px 2px 10px rgba(255, 100, 0, 0.7)"; // Light orange for afternoon
        musicSource = "/assets/music/afternoon.mp3";
      } else {
        greeting = `Good Evening, Lundberg 🌙`;
        shadowColor = "2px 2px 10px rgba(128, 0, 128, 0.7)"; // Purple for evening
        musicSource = "/assets/music/evening.mp3";
      }

      // Set the greeting, shadow, and music dynamically
      document.getElementById("greeting").textContent = greeting;
      document.getElementById("greeting").style.textShadow = shadowColor;
      document.getElementById("clock").style.textShadow = shadowColor;
      document.getElementById("quote").style.textShadow = shadowColor;
      document.getElementById("musicSource").src = musicSource; // Update music source

      // Reload the audio element to apply the new music
      const audio = document.getElementById("music");
      audio.load();  // This ensures the new source is loaded
    }

    // Left side note functionality
    const note = document.getElementById('note');

    // Load saved note from localStorage
    note.value = localStorage.getItem('leftNote') || '';

    // Save the note to localStorage when user types
    note.addEventListener('input', () => {
      localStorage.setItem('leftNote', note.value);
    });

    // 100 Random Inspirational Quotes
    const quotes = [
      "The best time to plant a tree was 20 years ago. The second best time is now.",
      "Believe you can and you're halfway there.",
      "It does not matter how slowly you go as long as you do not stop.",
      "You are never too old to set another goal or to dream a new dream.",
      "The future belongs to those who believe in the beauty of their dreams.",
      "Success is not final, failure is not fatal: It is the courage to continue that counts.",
      "Don’t watch the clock; do what it does. Keep going.",
      "Keep your face always toward the sunshine—and shadows will fall behind you.",
      "It always seems impossible until it's done.",
      "The only way to do great work is to love what you do."
    ];

    // Function to pick a random quote
    function getRandomQuote() {
      const randomIndex = Math.floor(Math.random() * quotes.length);
      document.getElementById('quote').textContent = quotes[randomIndex];
    }

    // Toggle play/pause functionality for music
    let isMusicPlaying = false;
    function toggleMusic() {
      const music = document.getElementById("music");
      const button = document.getElementById("musicButton");

      if (isMusicPlaying) {
        music.pause();
        button.innerHTML = '<i class="fas fa-play-circle"></i>'; // Change button text when paused
      } else {
        music.play().catch(err => {
          console.error('Error playing audio:', err);
          alert("Audio failed to play. Please allow media playback in your browser settings.");
        });
        button.innerHTML = '<i class="fas fa-pause-circle"></i>'; // Change button text when playing
      }
      isMusicPlaying = !isMusicPlaying;
    }

    // Initial call to set greeting, shadow, and music
    setGreetingAndShadow();

    // Show first quote when the page loads
    window.onload = function() {
      getRandomQuote();  // Display a random quote when the page opens

      // Change quote every 60 seconds (1 minute)
      setInterval(() => {
        getRandomQuote();
      }, 60000); // 60,000 milliseconds = 1 minute
    };

    // Update clock every second
    setInterval(updateClock, 1000);

    // Ensure music plays when the button is clicked
    document.getElementById("musicButton").addEventListener("click", toggleMusic);
  </script>
</body>
</html>
